import{r as u,o as v,i as y,j as h,k as w,d as e,u as _,m as k,w as j,f as n,v as i,c,e as g,b as d,n as S,t as f,q as V}from"./app-bnrJlte7.js";import{_ as T}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-Hs_Z3ZV1.js";const N={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},C={class:"mx-auto max-w-6xl"},M={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},U={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},z={key:0,class:"mb-4"},D=["src"],E={class:"flex justify-center rounded-lg border-2 border-dashed border-gray-300 px-6 py-8 transition hover:bg-gray-50"},B={class:"text-center"},G={class:"flex justify-center text-sm text-gray-600"},I={class:"relative cursor-pointer rounded-md font-medium text-blue-600 focus-within:outline-none hover:text-blue-500"},L={class:"mt-8 flex flex-col items-center gap-3 sm:flex-row sm:justify-end"},P=["disabled"],R={key:0,class:"mr-2 animate-spin"},F={__name:"Hero",setup(H){const o=u({title:"",description:"",btn_text:"",video_link:"",bg_image:""}),r=u(""),a=u(!1),b=async()=>{try{const t=await(await fetch("/api/layout")).json();t.home_hero&&(o.value=t.home_hero)}catch(s){console.error("Error loading data:",s)}},m=s=>{const t=s.target.files[0];if(t){const l=new FileReader;l.onload=x=>{o.value.bg_image=x.target.result},l.readAsDataURL(t)}},p=async()=>{a.value=!0,r.value="";try{const s=await fetch("/api/settings/hero",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o.value)});if(s.ok){const t=await s.json();t.data&&(o.value=t.data),r.value="✅ Saved Successfully!"}else r.value="❌ Error Saving."}catch(s){console.error(s),r.value="❌ Network Error"}finally{a.value=!1}};return v(()=>{b()}),(s,t)=>(d(),y(T,null,{default:h(()=>[w(_(k),{title:"Hero Settings"}),e("div",N,[e("div",C,[t[12]||(t[12]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Section Héros "),e("p",{class:"mt-2 text-gray-600"}," Gérez la bannière principale en haut de votre site web ")],-1)),e("div",M,[t[11]||(t[11]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"}," Modifier le contenu du héros "),e("p",{class:"mt-1 opacity-90"}," Mettez à jour le titre, le lien vidéo et l'image de fond. ")],-1)),e("form",{onSubmit:j(p,["prevent"]),class:"space-y-6 p-6 md:p-8"},[e("div",null,[t[4]||(t[4]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Titre principal",-1)),n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.title=l),type:"text",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none",placeholder:"ex: Valorisez, Inspectez..."},null,512),[[i,o.value.title]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Description",-1)),n(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.description=l),rows:"3",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none",placeholder:"ex: Votre partenaire de confiance..."},null,512),[[i,o.value.description]])]),e("div",U,[e("div",null,[t[6]||(t[6]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Texte du bouton",-1)),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.btn_text=l),type:"text",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none",placeholder:"ex: Regarder une vidéo"},null,512),[[i,o.value.btn_text]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Lien vidéo YouTube",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.video_link=l),type:"text",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none",placeholder:"https://youtube.com/watch?v=..."},null,512),[[i,o.value.video_link]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Image d'arrière-plan",-1)),o.value.bg_image?(d(),c("div",z,[e("img",{src:o.value.bg_image,class:"h-48 w-full rounded-lg border border-gray-200 object-cover shadow-md",alt:"Preview"},null,8,D)])):g("",!0),e("div",E,[e("div",B,[e("div",G,[e("label",I,[t[8]||(t[8]=e("span",null,"Téléverser une image (nouveau fichier)",-1)),e("input",{type:"file",class:"sr-only",accept:"image/*",onChange:m},null,32)])]),t[9]||(t[9]=e("p",{class:"mt-2 text-xs text-gray-500"}," PNG, JPG, GIF jusqu'à 5Mo ",-1))])])]),e("div",L,[r.value?(d(),c("div",{key:0,class:S(["font-semibold",r.value.includes("✅")?"text-green-600":"text-red-600"])},f(r.value),3)):g("",!0),e("button",{type:"button",onClick:b,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition hover:bg-gray-50"}," Réinitialiser "),e("button",{type:"submit",disabled:a.value,class:"flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-70"},[a.value?(d(),c("span",R,"⚪")):g("",!0),V(" "+f(a.value?"Économie...":"Enregistrer les modifications"),1)],8,P)])],32)])])])]),_:1}))}};export{F as default};

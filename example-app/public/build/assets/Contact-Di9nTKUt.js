import{r as m,a as x,o as v,c as r,b as l,d as e,t as d,w,e as _,f as u,v as p,n as k,g as C,F as V,h as j,i as M,j as E,k as H,l as g}from"./app-CT--BO7Q.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as z}from"./MainLayout-CzfM8g6K.js";const U={class:"bg-gray-50 px-4 py-12 font-sans sm:px-6 lg:px-8"},$={class:"mx-auto max-w-7xl"},B={class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},D={key:0,class:"space-y-6 lg:col-span-1"},I={class:"bg-white p-8 shadow-sm"},N={class:"text-sm font-bold text-black uppercase"},S={class:"bg-white p-8 shadow-sm"},T={class:"text-sm font-bold text-black"},q=["href"],F={class:"bg-white p-8 shadow-sm"},A={class:"text-sm font-bold text-black"},L=["href"],O={key:1,class:"space-y-6 lg:col-span-1"},P={class:"bg-white p-8 shadow-sm lg:col-span-2"},G={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},J=["disabled"],K={key:0,class:"flex items-center gap-2"},Q={key:1},R={class:"map-container relative h-[450px] w-full overflow-hidden bg-gray-100 shadow-sm"},W=["innerHTML"],X={key:1,class:"flex h-full w-full items-center justify-center text-gray-400"},Y={__name:"ContactForm",setup(h){const t=m({}),n=m(!1),o=m(""),a=x({name:"",email:"",subject:"",message:""}),b=async()=>{try{const s=await(await fetch("/api/layout")).json();t.value=s}catch(c){console.error("Error loading contact details:",c)}},f=async()=>{n.value=!0,o.value="";try{await j.post("/api/contact-send",a),o.value="Merci ! Votre message a été envoyé.",Object.assign(a,{name:"",email:"",subject:"",message:""})}catch(c){console.error(c),o.value="Une erreur s'est produite. Veuillez réessayer."}finally{n.value=!1}};return v(()=>{b()}),(c,s)=>(l(),r(V,null,[e("div",U,[e("div",$,[e("div",B,[t.value.general?(l(),r("div",D,[e("div",I,[s[4]||(s[4]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Adresse ",-1)),e("p",N,d(t.value.general.address),1)]),e("div",S,[s[5]||(s[5]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Email ",-1)),e("p",T,[e("a",{href:"mailto:"+t.value.general.email,class:"transition hover:text-blue-500"},d(t.value.general.email),9,q)])]),e("div",F,[s[6]||(s[6]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Téléphone ",-1)),e("p",A,[e("a",{href:"tel:"+t.value.general.phone,class:"transition hover:text-blue-500"},d(t.value.general.phone),9,L)])])])):(l(),r("div",O,[...s[7]||(s[7]=[e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1)])])),e("div",P,[e("form",{onSubmit:w(f,["prevent"]),class:"space-y-6"},[e("div",G,[e("div",null,[u(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=i=>a.name=i),placeholder:"Nom",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[p,a.name]])]),e("div",null,[u(e("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=i=>a.email=i),placeholder:"E-mail",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[p,a.email]])])]),e("div",null,[u(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=i=>a.subject=i),placeholder:"Sujet",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[p,a.subject]])]),e("div",null,[u(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=i=>a.message=i),placeholder:"Un message",rows:"6",class:"w-full resize-none border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[p,a.message]])]),o.value?(l(),r("div",{key:0,class:k(["rounded p-3 text-center font-semibold",o.value.includes("erreur")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},d(o.value),3)):_("",!0),e("div",null,[e("button",{type:"submit",disabled:n.value,class:"bg-[#50aceb] px-8 py-3 font-medium text-white transition-colors duration-200 hover:bg-[#429ad6] disabled:opacity-50"},[n.value?(l(),r("span",K,[...s[8]||(s[8]=[e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Envoi... ",-1)])])):(l(),r("span",Q,"Envoyer le message"))],8,J)])],32)])])])]),e("div",R,[t.value.contact_map&&t.value.contact_map.iframe?(l(),r("div",{key:0,innerHTML:t.value.contact_map.iframe,class:"h-full w-full"},null,8,W)):(l(),r("div",X,[...s[9]||(s[9]=[e("span",{class:"animate-pulse"},"Chargement de la carte...",-1)])]))])],64))}},Z=y(Y,[["__scopeId","data-v-402cfa46"]]),ee={class:"hero-content"},se={class:"hero-title"},te={__name:"InnerHero",setup(h){const t=m({}),n=async()=>{try{const a=await(await fetch("/api/layout")).json();t.value=a}catch(o){console.error("Error loading home data:",o)}};return v(()=>{n()}),(o,a)=>t.value.contact_hero?(l(),r("div",{key:0,class:"hero-section",style:M({"background-image":`url(${t.value.contact_hero.bg_image})`})},[a[0]||(a[0]=e("div",{class:"hero-overlay"},null,-1)),e("div",ee,[e("h2",se,d(t.value.contact_hero.title),1)])],4)):_("",!0)}},ae=y(te,[["__scopeId","data-v-515560a8"]]),ne={__name:"Contact",setup(h){return(t,n)=>(l(),E(z,null,{default:H(()=>[g(ae),g(Z)]),_:1}))}};export{ne as default};

import{r as n,o as b,j as x,k as v,d as e,c as d,e as c,g as o,f as y,v as _,b as i,n as h,t as m,h as f}from"./app-BPnb9YoN.js";import{_ as w}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DBXsMluo.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},M={class:"mx-auto max-w-4xl"},z={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},T={class:"space-y-8 p-6 md:p-8"},B={key:0,class:"animate-fade-in"},H={class:"h-[350px] w-full overflow-hidden rounded-xl border border-gray-200 bg-gray-100 shadow-sm"},L=["innerHTML"],V={class:"mt-8 flex flex-col items-center justify-end gap-4 border-t border-gray-100 pt-6 sm:flex-row"},j={class:"flex gap-4"},A=["disabled"],E={key:0,class:"mr-2 h-5 w-5 animate-spin",viewBox:"0 0 24 24"},G={__name:"Map",setup(D){const l=n({iframe:""}),a=n(""),s=n(!1),u=async()=>{try{const t=(await f.get("/api/layout")).data;t.contact_map&&t.contact_map.iframe&&(l.value.iframe=t.contact_map.iframe)}catch(r){console.error("Error loading map settings:",r)}},g=async()=>{s.value=!0,a.value="";try{await f.post("/api/settings/contact-map",l.value),a.value="✅ Carte mise à jour !"}catch(r){console.error(r),a.value="❌ Erreur lors de la sauvegarde."}finally{s.value=!1}};return b(()=>{u()}),(r,t)=>(i(),x(w,null,{default:v(()=>[e("div",k,[e("div",M,[t[6]||(t[6]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Gestionnaire de Carte "),e("p",{class:"mt-2 text-gray-600"}," Modifiez la carte Google Maps de votre page contact. ")],-1)),e("div",z,[t[5]||(t[5]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"},"Code d'intégration"),e("p",{class:"mt-1 opacity-90"}," Collez le code HTML fourni par Google Maps ici. ")],-1)),e("div",T,[t[4]||(t[4]=e("div",{class:"rounded-lg border border-blue-100 bg-blue-50 p-4 text-sm text-blue-800"},[e("strong",{class:"mb-2 block text-blue-900"},[e("i",{class:"fa-solid fa-circle-info mr-1"}),o(" Comment obtenir le code ?")]),e("ol",{class:"ml-5 list-decimal space-y-1 text-blue-700"},[e("li",null,[o(" Allez sur "),e("b",null,"Google Maps"),o(" et trouvez votre adresse. ")]),e("li",null,[o(" Cliquez sur "),e("b",null,"Partager"),o(" → "),e("b",null,"Intégrer une carte"),o(". ")]),e("li",null,'Cliquez sur "Copier le contenu HTML".'),e("li",null,"Collez le code ci-dessous.")])],-1)),e("div",null,[t[1]||(t[1]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Code Iframe",-1)),y(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=p=>l.value.iframe=p),rows:"5",placeholder:'<iframe src="https://www.google.com/maps/embed?..." ...></iframe>',class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 font-mono text-xs text-gray-700 placeholder-gray-400 transition duration-200 outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 md:text-sm"},null,512),[[_,l.value.iframe]])]),l.value.iframe?(i(),d("div",B,[t[2]||(t[2]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Aperçu en direct",-1)),e("div",H,[e("div",{innerHTML:l.value.iframe,class:"h-full w-full [&>iframe]:h-full [&>iframe]:w-full"},null,8,L)])])):c("",!0),e("div",V,[a.value?(i(),d("div",{key:0,class:h(["flex items-center font-bold",a.value.includes("✅")?"text-green-600":"text-red-600"])},m(a.value),3)):c("",!0),e("div",j,[e("button",{onClick:u,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition hover:bg-gray-50"}," Annuler "),e("button",{onClick:g,disabled:s.value,class:"flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-8 py-3 font-bold text-white shadow-lg transition hover:from-blue-700 hover:to-indigo-800 disabled:opacity-70"},[s.value?(i(),d("svg",E,[...t[3]||(t[3]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):c("",!0),o(" "+m(s.value?"Sauvegarde...":"Enregistrer la carte"),1)],8,A)])])])])])])]),_:1}))}},S=C(G,[["__scopeId","data-v-017678c0"]]);export{S as default};

import{r as u,m as k,c as _,w as C,b as e,i as S,e as d,g as f,o as l,F as V,f as L,p as m,x as p,j as v,n as b,t as x}from"./app-DXrNZhOF.js";import{_ as M}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-vJa02ImH.js";const j={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},z={class:"mx-auto max-w-6xl"},A={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},B={class:"space-y-6"},F={class:"md:col-span-5"},E=["onUpdate:modelValue"],N={class:"md:col-span-6"},U=["onUpdate:modelValue"],H={class:"flex items-end md:col-span-1"},T=["onClick"],D={class:"mt-8 flex flex-col gap-3 sm:flex-row sm:justify-end"},O=["disabled"],R={key:0,class:"mr-2 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q={__name:"FooterMenu",setup($){const a=u([{name:"Home",link:"/"},{name:"About",link:"/about"},{name:"Services",link:"/services"},{name:"Contact",link:"/contact"}]),s=u(""),n=u(!1),c=async()=>{try{const t=await(await fetch("/api/layout")).json();t.footer&&Array.isArray(t.footer)&&(a.value=t.footer)}catch(o){console.error("Error loading footer links:",o),s.value="❌ Error loading data"}},y=()=>{a.value.push({name:"",link:""})},h=o=>{a.value.splice(o,1)},w=async()=>{n.value=!0,s.value="";try{const o=a.value.filter(r=>r.name.trim()!==""&&r.link.trim()!=="");(await fetch("/api/settings/footer",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)})).ok?s.value="✅ Saved Successfully!":s.value="❌ Error Saving."}catch(o){console.error(o),s.value="❌ Network Error"}finally{n.value=!1}};return k(()=>{c()}),(o,t)=>(l(),_(M,null,{default:C(()=>[e("div",j,[e("div",z,[t[6]||(t[6]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Footer Menu Settings "),e("p",{class:"mt-2 text-gray-600"}," Manage your website's footer navigation ")],-1)),e("div",A,[t[5]||(t[5]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"},"Edit Footer Menu"),e("p",{class:"mt-1 opacity-90"}," Update your footer navigation links ")],-1)),e("form",{onSubmit:S(w,["prevent"]),class:"p-6 md:p-8"},[e("div",B,[(l(!0),d(V,null,L(a.value,(r,g)=>(l(),d("div",{key:g,class:"grid grid-cols-1 gap-4 md:grid-cols-12"},[e("div",F,[t[0]||(t[0]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Link Name",-1)),m(e("input",{"onUpdate:modelValue":i=>r.name=i,type:"text",placeholder:"Link display name",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,E),[[p,r.name]])]),e("div",N,[t[1]||(t[1]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"URL",-1)),m(e("input",{"onUpdate:modelValue":i=>r.link=i,type:"text",placeholder:"/page or https://example.com",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,U),[[p,r.link]])]),e("div",H,[e("button",{onClick:i=>h(g),type:"button",class:"mb-1 flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 text-red-600 transition duration-200 hover:bg-red-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none"},[...t[2]||(t[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,T)])]))),128)),e("div",{class:"flex justify-between pt-4"},[e("button",{onClick:y,type:"button",class:"flex items-center rounded-lg border border-blue-600 px-4 py-2 font-medium text-blue-600 transition duration-200 hover:bg-blue-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"},[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),v(" Add Link ",-1)])])])]),e("div",D,[e("button",{type:"button",onClick:c,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200 focus:outline-none"}," Reset "),e("button",{type:"submit",disabled:n.value,class:b(["flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition duration-200 hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",{"cursor-not-allowed opacity-75":n.value}])},[n.value?(l(),d("svg",R,[...t[4]||(t[4]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):f("",!0),v(" "+x(n.value?"Saving...":"Save Changes"),1)],10,O)]),s.value?(l(),d("div",{key:0,class:b(["mt-6 rounded-lg p-4 text-center font-semibold",s.value.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},x(s.value),3)):f("",!0)],32)])])])]),_:1}))}};export{q as default};

import{r as u,o as k,i as _,j as C,d as e,w as V,c,e as g,b as d,F as S,p as j,f,C as M,v as p,q as b,n as v,t as x}from"./app-bnrJlte7.js";import{_ as z}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-Hs_Z3ZV1.js";const L={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},T={class:"mx-auto max-w-6xl"},A={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},B={class:"space-y-6"},U={class:"md:col-span-3"},E=["onUpdate:modelValue"],N={class:"md:col-span-4"},F=["onUpdate:modelValue"],H={class:"md:col-span-4"},P=["onUpdate:modelValue"],D={class:"flex items-end md:col-span-1"},I=["onClick"],O={class:"mt-8 flex flex-col gap-3 sm:flex-row sm:justify-end"},R=["disabled"],$={key:0,class:"mr-2 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Y={__name:"SocialLinks",setup(q){const l=u([{media:"facebook",icon:"fa-brands fa-facebook-f",link:""},{media:"twitter",icon:"fa-brands fa-twitter",link:""},{media:"instagram",icon:"fa-brands fa-instagram",link:""},{media:"linkedin",icon:"fa-brands fa-linkedin-in",link:""},{media:"youtube",icon:"fa-brands fa-youtube",link:""}]),a=u(""),i=u(!1),m=async()=>{try{const o=await(await fetch("/api/layout")).json();o.social&&Array.isArray(o.social)&&(l.value=l.value.map(t=>{const r=o.social.find(n=>n.media===t.media);return r?{...t,link:r.link}:t}))}catch(s){console.error("Error loading social links:",s),a.value="❌ Error loading data"}},y=()=>{l.value.push({media:"",icon:"",link:""})},w=s=>{l.value.splice(s,1)},h=async()=>{i.value=!0,a.value="";try{const s=l.value.filter(t=>t.link.trim()!=="");(await fetch("/api/settings/social",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)})).ok?a.value="✅ Saved Successfully!":a.value="❌ Error Saving."}catch(s){console.error(s),a.value="❌ Network Error"}finally{i.value=!1}};return k(()=>{m()}),(s,o)=>(d(),_(z,null,{default:C(()=>[e("div",L,[e("div",T,[o[8]||(o[8]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Paramètres des liens sociaux "),e("p",{class:"mt-2 text-gray-600"}," Gérez les liens sociaux de votre site web ")],-1)),e("div",A,[o[7]||(o[7]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"}," Modifier les liens sociaux "),e("p",{class:"mt-1 opacity-90"}," Mettre à jour vos profils de médias sociaux ")],-1)),e("form",{onSubmit:V(h,["prevent"]),class:"p-6 md:p-8"},[e("div",B,[(d(!0),c(S,null,j(l.value,(t,r)=>(d(),c("div",{key:r,class:"grid grid-cols-1 gap-4 md:grid-cols-12"},[e("div",U,[o[1]||(o[1]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Plate-forme",-1)),f(e("select",{"onUpdate:modelValue":n=>t.media=n,class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},[...o[0]||(o[0]=[e("option",{value:""}," Sélectionnez la plateforme ",-1),e("option",{value:"facebook"}," Facebook ",-1),e("option",{value:"twitter"},"Twitter",-1),e("option",{value:"instagram"}," Instagram ",-1),e("option",{value:"linkedin"}," LinkedIn ",-1),e("option",{value:"youtube"},"YouTube",-1),e("option",{value:"pinterest"}," Pinterest ",-1),e("option",{value:"tiktok"},"TikTok",-1)])],8,E),[[M,t.media]])]),e("div",N,[o[2]||(o[2]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Classe d'icône (référence : favicon.com)",-1)),f(e("input",{"onUpdate:modelValue":n=>t.icon=n,type:"text",placeholder:"Font Awesome class (e.g. fa-brands fa-facebook-f)",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,F),[[p,t.icon]])]),e("div",H,[o[3]||(o[3]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"URL",-1)),f(e("input",{"onUpdate:modelValue":n=>t.link=n,type:"url",placeholder:"https://example.com",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,P),[[p,t.link]])]),e("div",D,[e("button",{onClick:n=>w(r),type:"button",class:"mb-1 flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 text-red-600 transition duration-200 hover:bg-red-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none"},[...o[4]||(o[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,I)])]))),128)),e("div",{class:"flex justify-between pt-4"},[e("button",{onClick:y,type:"button",class:"flex items-center rounded-lg border border-blue-600 px-4 py-2 font-medium text-blue-600 transition duration-200 hover:bg-blue-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"},[...o[5]||(o[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),b(" Ajouter un lien ",-1)])])])]),e("div",O,[e("button",{type:"button",onClick:m,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200 focus:outline-none"}," Réinitialiser "),e("button",{type:"submit",disabled:i.value,class:v(["flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition duration-200 hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",{"cursor-not-allowed opacity-75":i.value}])},[i.value?(d(),c("svg",$,[...o[6]||(o[6]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):g("",!0),b(" "+x(i.value?"Économie...":"Enregistrer les changements"),1)],10,R)]),a.value?(d(),c("div",{key:0,class:v(["mt-6 rounded-lg p-4 text-center font-semibold",a.value.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},x(a.value),3)):g("",!0)],32)])])])]),_:1}))}};export{Y as default};

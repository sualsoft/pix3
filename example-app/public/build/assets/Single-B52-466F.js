import{r as _,x as L,j as F,k as d,l as c,c as o,u as g,m as j,b as a,d as e,i as C,t as b,e as i,F as f,q as p,s as h,n as x,g as v,T,w as M}from"./app-DeuKnPJx.js";import{_ as D}from"./MainLayout-C34_n6nW.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={key:0,class:"flex h-screen w-full items-center justify-center bg-gray-50"},z={key:1},B={class:"hero-content"},H={class:"hero-title"},N={class:"mt-12 bg-white font-sans"},S={class:"mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8"},I={key:0,class:"mb-12"},q=["src"],A={class:"grid grid-cols-1 gap-12 lg:grid-cols-3"},E={class:"space-y-6 border-b-[4px] border-[#0D99FF] bg-gray-50 px-12 py-6 text-justify text-sm leading-relaxed text-gray-700 md:text-base lg:col-span-2"},O=["innerHTML"],Y={key:0,class:"border-b-[4px] border-[#0D99FF] bg-gray-50 px-12 py-6 text-justify text-sm leading-relaxed text-gray-700 md:text-base lg:col-span-2"},R=["innerHTML"],U={class:"h-fit border-b-[4px] border-[#0D99FF] bg-gray-50 p-6 sm:p-8 lg:col-span-1"},G={key:0,class:"mb-8"},J={class:"space-y-0"},K={key:1},P={class:"space-y-0"},Q={class:"relative aspect-video w-full max-w-5xl overflow-hidden rounded-lg bg-black shadow-2xl"},W=["src"],X={__name:"Single",props:{page:{type:Object,default:()=>null},timelapseLinks:{type:Array,default:()=>[]},droneLinks:{type:Array,default:()=>[]}},setup(t){const n=t,u=_(!1),y=r=>{if(!r)return null;const s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,l=r.match(s);return l&&l[2].length===11?l[2]:null},w=L(()=>{if(!n.page||!n.page.video_url)return"";const r=y(n.page.video_url);return r?`https://www.youtube.com/embed/${r}?autoplay=1&rel=0`:""}),k=()=>{n.page&&n.page.video_url&&(u.value=!0,document.body.style.overflow="hidden")},m=()=>{u.value=!1,document.body.style.overflow="auto"};return(r,s)=>(a(),F(D,null,{default:d(()=>[c(g(j),{title:t.page?t.page.title:"Chargement..."},null,8,["title"]),t.page?(a(),o("div",z,[e("section",null,[e("div",{class:"hero-section",style:C({backgroundImage:`url(${t.page.thumbnail||"/images/hero-bg-1765171683.png"})`})},[s[1]||(s[1]=e("div",{class:"hero-overlay"},null,-1)),e("div",B,[e("h2",H,b(t.page.title),1)])],4)]),e("section",N,[e("div",S,[t.page.video_url?(a(),o("div",I,[e("div",{onClick:k,class:"group relative h-80 w-full cursor-pointer overflow-hidden rounded-sm shadow-md md:h-96"},[e("img",{src:t.page.thumbnail||"https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=1600",alt:"Video Cover",class:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105"},null,8,q),s[2]||(s[2]=e("div",{class:"absolute inset-0 bg-black/40 transition-colors duration-300 group-hover:bg-black/50"},null,-1)),s[3]||(s[3]=e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("div",{class:"flex items-center space-x-3 text-white"},[e("span",{class:"text-lg font-bold tracking-wide"},"Regarder une vidÃ©o"),e("div",{class:"flex h-10 w-10 items-center justify-center rounded-full bg-white p-2 text-black shadow-lg transition-transform duration-300 group-hover:scale-110"},[e("i",{class:"fa-solid fa-play ml-0.5 text-sm"})])])],-1))])])):i("",!0),e("div",A,[e("div",E,[e("div",{innerHTML:t.page.content,class:"prose max-w-none"},null,8,O)]),t.page.seo_content?(a(),o("div",Y,[e("div",{innerHTML:t.page.seo_content,class:"prose max-w-none"},null,8,R)])):i("",!0),e("div",U,[t.timelapseLinks&&t.timelapseLinks.length>0?(a(),o("div",G,[s[4]||(s[4]=e("h3",{class:"mb-4 text-lg font-bold text-[#0D99FF]"}," Timelapse ",-1)),e("ul",J,[(a(!0),o(f,null,p(t.timelapseLinks,l=>(a(),o("li",{key:l.id,class:"border-b border-gray-200 last:border-0"},[c(g(h),{href:`/timelapse/${l.slug}`,class:x(["block py-3 text-sm font-medium transition-all duration-200 hover:pl-2 hover:text-[#50aceb]",t.page.slug===l.slug?"pl-2 font-bold text-[#50aceb]":"text-gray-700"])},{default:d(()=>[v(b(l.title),1)]),_:2},1032,["href","class"])]))),128))])])):i("",!0),t.droneLinks&&t.droneLinks.length>0?(a(),o("div",K,[s[5]||(s[5]=e("h3",{class:"mb-4 text-lg font-bold text-[#0D99FF]"}," Drone ",-1)),e("ul",P,[(a(!0),o(f,null,p(t.droneLinks,l=>(a(),o("li",{key:l.id,class:"border-b border-gray-200 last:border-0"},[c(g(h),{href:`/drone/${l.slug}`,class:x(["block py-3 text-sm font-medium transition-all duration-200 hover:pl-2 hover:text-[#50aceb]",t.page.slug===l.slug?"pl-2 font-bold text-[#50aceb]":"text-gray-700"])},{default:d(()=>[v(b(l.title),1)]),_:2},1032,["href","class"])]))),128))])])):i("",!0)])])])]),c(T,{name:"fade"},{default:d(()=>[u.value?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 backdrop-blur-sm",onClick:M(m,["self"])},[e("div",Q,[e("button",{onClick:m,class:"absolute top-4 right-4 z-10 flex h-10 w-10 items-center justify-center rounded-full bg-black/50 p-2 text-white transition-colors hover:bg-black/70 hover:text-[#50aceb]"},[...s[6]||(s[6]=[e("i",{class:"fa-solid fa-xmark text-xl"},null,-1)])]),e("iframe",{class:"h-full w-full",src:w.value,title:"YouTube video player",frameborder:"0",allow:`
                                accelerometer;
                                autoplay;
                                clipboard-write;
                                encrypted-media;
                                gyroscope;
                                picture-in-picture;
                            `,allowfullscreen:""},null,8,W)])])):i("",!0)]),_:1})])):(a(),o("div",$,[...s[0]||(s[0]=[e("div",{class:"text-center"},[e("div",{class:"mx-auto mb-4 h-12 w-12 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"}),e("p",{class:"text-gray-500"},"Chargement de la page...")],-1)])]))]),_:1}))}},se=V(X,[["__scopeId","data-v-e2052c37"]]);export{se as default};

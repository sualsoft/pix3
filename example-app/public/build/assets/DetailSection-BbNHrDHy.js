import{r as c,o as y,j as _,k as h,d as e,f as v,v as f,c as n,b as i,F as w,q as k,t as g,e as D,h as p}from"./app-CT--BO7Q.js";import{_ as C}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-TjZqD5PX.js";const V={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},j={class:"mx-auto max-w-5xl"},B={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},F={class:"space-y-6 p-8"},I={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},L={class:"group relative h-40 overflow-hidden rounded-lg border bg-gray-100"},M=["src"],S={key:1,class:"flex h-full items-center justify-center text-gray-400"},U=["onChange"],q={class:"text-xs font-bold text-gray-500"},E={class:"flex items-center justify-end gap-4 border-t pt-6"},N={key:0,class:"font-bold text-green-600"},R=["disabled"],P={__name:"DetailSection",setup(T){const s=c({title:"",description:"",images:["","",""]}),r=c(""),d=c(!1),m=async()=>{try{const a=await p.get("/api/layout");if(a.data.drone_detail)for(s.value=a.data.drone_detail;s.value.images.length<3;)s.value.images.push("")}catch(a){console.error(a)}},b=(a,t)=>{const l=a.target.files[0];if(l){const o=new FileReader;o.onload=u=>s.value.images[t]=u.target.result,o.readAsDataURL(l)}},x=async()=>{d.value=!0;try{await p.post("/api/settings/drone-detail",s.value),r.value="✅ Détails Drone sauvegardés !"}catch{r.value="❌ Erreur."}finally{d.value=!1}};return y(()=>m()),(a,t)=>(i(),_(C,null,{default:h(()=>[e("div",V,[e("div",j,[t[6]||(t[6]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-900"}," Détails Drone "),e("p",{class:"text-gray-600"}," Modifiez le texte et les 3 images de la page Drone. ")],-1)),e("div",B,[t[5]||(t[5]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-xl font-bold"},"Contenu de la section")],-1)),e("div",F,[e("div",null,[t[2]||(t[2]=e("label",{class:"mb-2 block font-bold text-gray-700"},"Titre Principal",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.title=l),type:"text",class:"w-full rounded-lg border p-3 text-gray-500"},null,512),[[f,s.value.title]])]),e("div",null,[t[3]||(t[3]=e("label",{class:"mb-2 block font-bold text-gray-700"},"Description",-1)),v(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.description=l),rows:"6",class:"w-full rounded-lg border p-3 text-gray-500"},null,512),[[f,s.value.description]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"mb-4 block font-bold text-gray-700"},"Images Flottantes (3 requises)",-1)),e("div",I,[(i(!0),n(w,null,k(s.value.images,(l,o)=>(i(),n("div",{key:o,class:"space-y-2"},[e("div",L,[l?(i(),n("img",{key:0,src:l,class:"h-full w-full object-cover"},null,8,M)):(i(),n("div",S," Vide "))]),e("input",{type:"file",onChange:u=>b(u,o),class:"w-full text-sm"},null,40,U),e("span",q,"Image "+g(o+1),1)]))),128))])]),e("div",E,[r.value?(i(),n("span",N,g(r.value),1)):D("",!0),e("button",{onClick:x,disabled:d.value,class:"rounded-lg bg-blue-600 px-6 py-3 font-bold text-white"},g(d.value?"...":"Sauvegarder"),9,R)])])])])])]),_:1}))}};export{P as default};

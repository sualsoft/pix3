import{r as g,o as k,j as T,k as _,d as e,c as d,f as r,v as i,H as v,b as a,e as y,t as m,F as h,q as C,h as x}from"./app-BPnb9YoN.js";import{_ as V}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DBXsMluo.js";const j={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},G={class:"mx-auto max-w-6xl"},I={class:"mb-8 overflow-hidden rounded-2xl bg-white shadow-xl"},U={class:"space-y-6 p-6 md:p-8"},D={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},S={class:"md:col-span-2"},F={class:"mt-6 md:col-span-2"},O={class:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-2"},P={class:"mb-4"},E={class:"mt-4 border-t border-gray-200 pt-4"},A={class:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-2"},M={class:"mb-4"},L={class:"flex flex-col gap-4 md:flex-row"},B={key:0,class:"h-32 w-32 flex-shrink-0 overflow-hidden rounded-lg border-2 border-gray-300"},N=["src"],$={class:"flex-1"},z={class:"mt-4 border-t border-gray-200 pt-4"},J={class:"mb-4 grid grid-cols-1 gap-4 md:grid-cols-2"},Y={class:"mb-4"},q={class:"flex flex-col gap-4 md:flex-row"},H={key:0,class:"h-32 w-32 flex-shrink-0 overflow-hidden rounded-lg border-2 border-gray-300"},W=["src"],K={class:"flex-1"},Q={class:"flex items-center justify-end gap-4 border-t pt-4"},R={key:0,class:"font-bold text-blue-600"},X=["disabled"],Z={key:0,class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},ee={class:"group relative h-48 bg-gray-100"},te=["src"],le=["src"],oe=["src"],se={class:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 transition group-hover:opacity-100"},re=["onClick"],ae={class:"p-4"},de={class:"font-bold text-gray-800"},ie={class:"rounded-full bg-blue-100 px-2 py-1 text-xs text-blue-800"},ne={key:1,class:"py-12 text-center text-gray-500"},be={__name:"Items",setup(ue){const u=g([]),n=g(""),p=g(!1),l=g({title:"",category:"",type:"image",url:"",file:null,seo_content:""}),b=async()=>{try{const s=await x.get("/api/portfolio");u.value=s.data}catch(s){console.error("Error loading data:",s)}},f=async()=>{p.value=!0,n.value="";const s=new FormData;s.append("title",l.value.title||"Sans titre"),s.append("category",l.value.category||"Général"),s.append("type",l.value.type),(l.value.type==="youtube"||l.value.url)&&s.append("url",l.value.url||""),l.value.file&&s.append("file",l.value.file);try{await x.post("/api/portfolio",s,{headers:{"Content-Type":"multipart/form-data"}}),n.value="✅ Projet ajouté !",l.value={title:"",category:"",type:"image",url:"",file:null,seo_content:""},b()}catch(t){n.value="❌ Erreur de sauvegarde.",console.error(t)}finally{p.value=!1}},c=s=>{l.value.file=s.target.files[0]},w=async s=>{if(confirm("Supprimer ce projet ?"))try{await x.delete(`/api/portfolio/${s}`),b()}catch{alert("Erreur suppression")}};return k(()=>{b()}),(s,t)=>(a(),T(V,null,{default:_(()=>[e("div",j,[e("div",G,[t[42]||(t[42]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800"}," Gestionnaire de Portefeuille ")],-1)),e("div",I,[t[41]||(t[41]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"},"Ajouter un projet")],-1)),e("div",U,[e("div",D,[e("div",null,[t[16]||(t[16]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Titre",-1)),r(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.title=o),type:"text",placeholder:"Titre du projet",class:"w-full rounded-lg border p-3 text-gray-600"},null,512),[[i,l.value.title]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Catégorie",-1)),r(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.category=o),type:"text",placeholder:"Drone, Timelapse...",class:"w-full rounded-lg border p-3 text-gray-600"},null,512),[[i,l.value.category]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Type",-1)),r(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.type=o),class:"w-full rounded-lg border p-3 text-gray-600"},[...t[18]||(t[18]=[e("option",{value:"image"},"Image",-1),e("option",{value:"video"},"Vidéo",-1),e("option",{value:"youtube"},"YouTube",-1)])],512),[[v,l.value.type]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Fichier / Lien",-1)),l.value.type==="youtube"?r((a(),d("input",{key:0,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.url=o),type:"text",placeholder:"Lien YouTube",class:"w-full rounded-lg border p-3 text-gray-600"},null,512)),[[i,l.value.url]]):(a(),d("input",{key:1,type:"file",onChange:c,class:"w-full rounded-lg border p-3 text-gray-600"},null,32))]),e("div",S,[t[21]||(t[21]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Contenu SEO (optionnel)",-1)),r(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.seo_content=o),rows:"4",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Ajoutez du contenu supplémentaire pour améliorer le référencement naturel (SEO)..."},null,512),[[i,l.value.seo_content]]),t[22]||(t[22]=e("p",{class:"mt-1 text-xs text-gray-500"}," Ce contenu sera affiché en bas de la page du projet, avant le pied de page. ",-1))]),e("div",F,[t[40]||(t[40]=e("h3",{class:"mb-4 text-lg font-bold text-gray-800"}," Paramètres SEO Avancés ",-1)),e("div",O,[e("div",null,[t[23]||(t[23]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Titre Meta",-1)),r(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.value.meta_title=o),type:"text",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Titre de la page pour les moteurs de recherche"},null,512),[[i,l.value.meta_title]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Mots-clés",-1)),r(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>l.value.keywords=o),type:"text",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Mots-clés séparés par des virgules"},null,512),[[i,l.value.keywords]])])]),e("div",P,[t[25]||(t[25]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Description Meta",-1)),r(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=o=>l.value.meta_description=o),rows:"3",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Description de la page pour les moteurs de recherche"},null,512),[[i,l.value.meta_description]])]),e("div",E,[t[32]||(t[32]=e("h4",{class:"text-md mb-3 font-bold text-gray-700"}," Open Graph (Facebook) ",-1)),e("div",A,[e("div",null,[t[26]||(t[26]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Titre OG",-1)),r(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>l.value.og_title=o),type:"text",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Titre pour le partage sur Facebook"},null,512),[[i,l.value.og_title]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Type OG",-1)),r(e("select",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.value.og_type=o),class:"w-full rounded-lg border p-3 text-gray-600"},[...t[27]||(t[27]=[e("option",{value:"website"}," Website ",-1),e("option",{value:"article"}," Article ",-1),e("option",{value:"video"}," Video ",-1)])],512),[[v,l.value.og_type]])])]),e("div",M,[t[29]||(t[29]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Description OG",-1)),r(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.value.og_description=o),rows:"2",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Description pour le partage sur Facebook"},null,512),[[i,l.value.og_description]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Image OG",-1)),e("div",L,[l.value.og_image_preview?(a(),d("div",B,[e("img",{src:l.value.og_image_preview,alt:"OG Preview",class:"h-full w-full object-cover"},null,8,N)])):y("",!0),e("div",$,[e("input",{type:"file",onChange:t[11]||(t[11]=(...o)=>s.handleOgImageChange&&s.handleOgImageChange(...o)),accept:"image/*",class:"w-full rounded-lg border p-3 text-gray-600"},null,32),t[30]||(t[30]=e("p",{class:"mt-1 text-xs text-gray-500"}," Image pour le partage sur Facebook (PNG, JPG, GIF) ",-1))])])])]),e("div",z,[t[39]||(t[39]=e("h4",{class:"text-md mb-3 font-bold text-gray-700"}," Twitter Card ",-1)),e("div",J,[e("div",null,[t[34]||(t[34]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Type de carte",-1)),r(e("select",{"onUpdate:modelValue":t[12]||(t[12]=o=>l.value.twitter_card=o),class:"w-full rounded-lg border p-3 text-gray-600"},[...t[33]||(t[33]=[e("option",{value:"summary"}," Summary ",-1),e("option",{value:"summary_large_image"}," Summary with Large Image ",-1),e("option",{value:"app"},"App",-1),e("option",{value:"player"}," Player ",-1)])],512),[[v,l.value.twitter_card]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Titre Twitter",-1)),r(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>l.value.twitter_title=o),type:"text",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Titre pour le partage sur Twitter"},null,512),[[i,l.value.twitter_title]])])]),e("div",Y,[t[36]||(t[36]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Description Twitter",-1)),r(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=o=>l.value.twitter_description=o),rows:"2",class:"w-full rounded-lg border p-3 text-gray-600",placeholder:"Description pour le partage sur Twitter"},null,512),[[i,l.value.twitter_description]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Image Twitter",-1)),e("div",q,[l.value.twitter_image_preview?(a(),d("div",H,[e("img",{src:l.value.twitter_image_preview,alt:"Twitter Preview",class:"h-full w-full object-cover"},null,8,W)])):y("",!0),e("div",K,[e("input",{type:"file",onChange:t[15]||(t[15]=(...o)=>s.handleTwitterImageChange&&s.handleTwitterImageChange(...o)),accept:"image/*",class:"w-full rounded-lg border p-3 text-gray-600"},null,32),t[37]||(t[37]=e("p",{class:"mt-1 text-xs text-gray-500"}," Image pour le partage sur Twitter (PNG, JPG, GIF) ",-1))])])])])])]),e("div",Q,[n.value?(a(),d("span",R,m(n.value),1)):y("",!0),e("button",{onClick:f,disabled:p.value,class:"rounded-lg bg-blue-600 px-6 py-3 font-bold text-white transition hover:bg-blue-700"},m(p.value?"Sauvegarde...":"Enregistrer"),9,X)])])]),u.value&&u.value.length>0?(a(),d("div",Z,[(a(!0),d(h,null,C(u.value,o=>(a(),d("div",{key:o.id,class:"overflow-hidden rounded-xl border bg-white shadow"},[e("div",ee,[o.type==="image"?(a(),d("img",{key:0,src:o.src,class:"h-full w-full object-cover"},null,8,te)):o.type==="youtube"?(a(),d("iframe",{key:1,src:o.src,class:"h-full w-full"},null,8,le)):(a(),d("video",{key:2,src:o.src,class:"h-full w-full object-cover"},null,8,oe)),e("div",se,[e("button",{onClick:pe=>w(o.id),class:"rounded-full bg-red-600 px-4 py-2 font-bold text-white"}," Supprimer ",8,re)])]),e("div",ae,[e("h3",de,m(o?.title||"Sans titre"),1),e("span",ie,m(o?.category),1)])]))),128))])):(a(),d("div",ne," Aucun projet trouvé. Ajoutez-en un ! "))])])]),_:1}))}};export{be as default};

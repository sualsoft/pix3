import{r as n,o as x,j as y,k as v,d as e,w,c as g,e as p,f as i,v as u,n as b,g as h,b as d,t as f}from"./app-CT--BO7Q.js";import{_ as k}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-TjZqD5PX.js";const C={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},_={class:"mx-auto max-w-6xl"},T={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},E={class:"space-y-6"},S={class:"mt-8 flex flex-col gap-3 sm:flex-row sm:justify-end"},j=["disabled"],V={key:0,class:"mr-2 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},N={__name:"CtaSettings",setup(A){const o=n({title:"",btn_text:"",link:""}),l=n(""),r=n(!1),c=async()=>{try{const t=await(await fetch("/api/layout")).json();t.cta&&(o.value=t.cta)}catch(s){console.error("Error loading CTA:",s),l.value="❌ Error loading data"}},m=async()=>{r.value=!0,l.value="";try{(await fetch("/api/settings/cta",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o.value)})).ok?l.value="✅ Saved Successfully!":l.value="❌ Error Saving."}catch(s){console.error(s),l.value="❌ Network Error"}finally{r.value=!1}};return x(()=>{c()}),(s,t)=>(d(),y(k,null,{default:v(()=>[e("div",C,[e("div",_,[t[8]||(t[8]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Paramètres CTA "),e("p",{class:"mt-2 text-gray-600"}," Gérez le contenu de votre section appel à l'action ")],-1)),e("div",T,[t[7]||(t[7]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"}," Modifier les paramètres CTA "),e("p",{class:"mt-1 opacity-90"}," Mettre à jour le contenu de votre section appel à l'action ")],-1)),e("form",{onSubmit:w(m,["prevent"]),class:"p-6 md:p-8"},[e("div",E,[e("div",null,[t[3]||(t[3]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Titre ",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.title=a),type:"text",placeholder:"Enter CTA title",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[u,o.value.title]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Texte du bouton ",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.btn_text=a),type:"text",placeholder:"Enter button text",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[u,o.value.btn_text]])]),e("div",null,[t[5]||(t[5]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Lien du bouton ",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.link=a),type:"text",placeholder:"Enter button link",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[u,o.value.link]])])]),e("div",S,[e("button",{type:"button",onClick:c,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200 focus:outline-none"}," Réinitialiser "),e("button",{type:"submit",disabled:r.value,class:b(["flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition duration-200 hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",{"cursor-not-allowed opacity-75":r.value}])},[r.value?(d(),g("svg",V,[...t[6]||(t[6]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):p("",!0),h(" "+f(r.value?"Économie...":"Enregistrer les changements"),1)],10,j)]),l.value?(d(),g("div",{key:0,class:b(["mt-6 rounded-lg p-4 text-center font-semibold",l.value.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},f(l.value),3)):p("",!0)],32)])])])]),_:1}))}};export{N as default};

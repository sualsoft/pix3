import{r as h,a as x,o as _,c as n,b as l,d as e,t as d,w,e as b,f as p,v as m,n as k,F as j,g as V,h as C,i as E,j as M,k as v}from"./app-bnrJlte7.js";import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as H}from"./MainLayout-BtG6LCm1.js";const U={class:"bg-gray-50 px-4 py-12 font-sans sm:px-6 lg:px-8"},$={class:"mx-auto max-w-7xl"},D={class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},I={key:0,class:"space-y-6 lg:col-span-1"},S={class:"bg-white p-8 shadow-sm shadow-[#00000003]"},q={class:"text-sm font-bold text-black uppercase"},z={class:"bg-white p-8 shadow-sm shadow-[#00000003]"},B={class:"text-sm font-bold text-black"},F=["href"],N={class:"bg-white p-8 shadow-sm shadow-[#00000003]"},T={class:"text-sm font-bold text-black"},L=["href"],A={key:1,class:"space-y-6 lg:col-span-1"},P={class:"bg-white p-8 shadow-sm shadow-[#00000003] lg:col-span-2"},G={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},J=["disabled"],K={class:"map-container relative h-[450px] w-full overflow-hidden bg-gray-100 shadow-sm"},O=["innerHTML"],Q={key:1,class:"flex h-full w-full items-center justify-center text-gray-400"},R={__name:"ContactForm",setup(g){const t=h({}),a=x({name:"",email:"",subject:"",message:""}),u=async()=>{try{const s=await(await fetch("/api/layout")).json();t.value=s}catch(c){console.error("Error loading contact details:",c)}},o=h(!1),i=h(""),f=async()=>{o.value=!0,i.value="";try{const c=await V.post("/api/contact-send",a.value);i.value="Merci ! Votre message a été envoyé.",a.value={name:"",email:"",subject:"",message:""}}catch(c){console.error(c),i.value="Une erreur s'est produite. Veuillez réessayer."}finally{o.value=!1}};return _(()=>{u()}),(c,s)=>(l(),n(j,null,[e("div",U,[e("div",$,[e("div",D,[t.value.general?(l(),n("div",I,[e("div",S,[s[4]||(s[4]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Adresse ",-1)),e("p",q,d(t.value.general.address),1)]),e("div",z,[s[5]||(s[5]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Email ",-1)),e("p",B,[e("a",{href:"mailto:"+t.value.general.email,class:"hover:text-blue-500"},d(t.value.general.email),9,F)])]),e("div",N,[s[6]||(s[6]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Téléphone ",-1)),e("p",T,[e("a",{href:"tel:"+t.value.general.phone,class:"hover:text-blue-500"},d(t.value.general.phone),9,L)])])])):(l(),n("div",A,[...s[7]||(s[7]=[e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1)])])),e("div",P,[e("form",{onSubmit:w(f,["prevent"]),class:"space-y-6"},[e("div",G,[e("div",null,[p(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>a.name=r),placeholder:"Nom",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,a.name]])]),e("div",null,[p(e("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=r=>a.email=r),placeholder:"E-mail",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,a.email]])])]),e("div",null,[p(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=r=>a.subject=r),placeholder:"Sujet",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,a.subject]])]),e("div",null,[p(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=r=>a.message=r),placeholder:"Un message",rows:"6",class:"w-full resize-none border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,a.message]])]),e("div",null,[e("button",{type:"submit",disabled:o.value,class:"bg-[#50aceb] px-8 py-3 font-medium text-white transition-colors duration-200 hover:bg-[#429ad6] disabled:opacity-50"},d(o.value?"Envoi en cours...":"Envoyer le message"),9,J)]),i.value?(l(),n("div",{key:0,class:k(["mb-4 rounded p-3 text-center",i.value.includes("erreur")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},d(i.value),3)):b("",!0)],32)])])])]),e("div",K,[t.value.contact_map?(l(),n("div",{key:0,innerHTML:t.value.contact_map.iframe,class:"h-full w-full"},null,8,O)):(l(),n("div",Q," Chargement de la carte... "))])],64))}},W=y(R,[["__scopeId","data-v-22a0f3d9"]]),X={class:"hero-content"},Y={class:"hero-title"},Z={__name:"InnerHero",setup(g){const t=h({}),a=async()=>{try{const o=await(await fetch("/api/layout")).json();t.value=o}catch(u){console.error("Error loading home data:",u)}};return _(()=>{a()}),(u,o)=>t.value.contact_hero?(l(),n("div",{key:0,class:"hero-section",style:C({"background-image":`url(${t.value.contact_hero.bg_image})`})},[o[0]||(o[0]=e("div",{class:"hero-overlay"},null,-1)),e("div",X,[e("h2",Y,d(t.value.contact_hero.title),1)])],4)):b("",!0)}},ee=y(Z,[["__scopeId","data-v-515560a8"]]),oe={__name:"Contact",setup(g){return(t,a)=>(l(),E(H,null,{default:M(()=>[v(ee),v(W)]),_:1}))}};export{oe as default};

import{r as _,a as x,o as y,c as n,b as a,d as e,t as u,w as k,e as r,f as p,v as m,n as $,g as C,F as j,h as V,i as E,j as D,k as h,l as g,u as I,m as M}from"./app-DeuKnPJx.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as T}from"./MainLayout-C34_n6nW.js";const H={class:"bg-gray-50 px-4 py-12 font-sans sm:px-6 lg:px-8"},S={class:"mx-auto max-w-7xl"},U={class:"grid grid-cols-1 gap-8 lg:grid-cols-3"},z={key:0,class:"space-y-6 lg:col-span-1"},F={class:"bg-white p-8 shadow-sm"},N={class:"text-sm font-bold text-black uppercase"},B={class:"bg-white p-8 shadow-sm"},q={class:"text-sm font-bold text-black"},L=["href"],A={class:"bg-white p-8 shadow-sm"},O={class:"text-sm font-bold text-black"},P=["href"],R={key:1,class:"space-y-6 lg:col-span-1"},X={class:"bg-white p-8 shadow-sm lg:col-span-2"},G={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},J=["disabled"],K={key:0,class:"flex items-center gap-2"},Q={key:1},W={class:"map-container relative h-[450px] w-full overflow-hidden bg-gray-100 shadow-sm"},Y=["innerHTML"],Z={key:1,class:"flex h-full w-full items-center justify-center text-gray-400"},ee={__name:"ContactForm",setup(v){const t=_({}),i=_(!1),l=_(""),o=x({name:"",email:"",subject:"",message:""}),b=async()=>{try{const s=await(await fetch("/api/layout")).json();t.value=s}catch(d){console.error("Error loading contact details:",d)}},f=async()=>{i.value=!0,l.value="";try{await V.post("/api/contact-send",o),l.value="Merci ! Votre message a été envoyé.",Object.assign(o,{name:"",email:"",subject:"",message:""})}catch(d){console.error(d),l.value="Une erreur s'est produite. Veuillez réessayer."}finally{i.value=!1}};return y(()=>{b()}),(d,s)=>(a(),n(j,null,[e("div",H,[e("div",S,[e("div",U,[t.value.general?(a(),n("div",z,[e("div",F,[s[4]||(s[4]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Adresse ",-1)),e("p",N,u(t.value.general.address),1)]),e("div",B,[s[5]||(s[5]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Email ",-1)),e("p",q,[e("a",{href:"mailto:"+t.value.general.email,class:"transition hover:text-blue-500"},u(t.value.general.email),9,L)])]),e("div",A,[s[6]||(s[6]=e("h3",{class:"mb-4 text-2xl font-bold text-black"}," Téléphone ",-1)),e("p",O,[e("a",{href:"tel:"+t.value.general.phone,class:"transition hover:text-blue-500"},u(t.value.general.phone),9,P)])])])):(a(),n("div",R,[...s[7]||(s[7]=[e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1),e("div",{class:"h-40 animate-pulse bg-white p-8 shadow-sm"},null,-1)])])),e("div",X,[e("form",{onSubmit:k(f,["prevent"]),class:"space-y-6"},[e("div",G,[e("div",null,[p(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=c=>o.name=c),placeholder:"Nom",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,o.name]])]),e("div",null,[p(e("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=c=>o.email=c),placeholder:"E-mail",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,o.email]])])]),e("div",null,[p(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=c=>o.subject=c),placeholder:"Sujet",class:"w-full border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,o.subject]])]),e("div",null,[p(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=c=>o.message=c),placeholder:"Un message",rows:"6",class:"w-full resize-none border border-sky-300 px-4 py-3 text-gray-600 placeholder-gray-400 transition-colors outline-none focus:border-sky-500",required:""},null,512),[[m,o.message]])]),l.value?(a(),n("div",{key:0,class:$(["rounded p-3 text-center font-semibold",l.value.includes("erreur")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"])},u(l.value),3)):r("",!0),e("div",null,[e("button",{type:"submit",disabled:i.value,class:"bg-[#50aceb] px-8 py-3 font-medium text-white transition-colors duration-200 hover:bg-[#429ad6] disabled:opacity-50"},[i.value?(a(),n("span",K,[...s[8]||(s[8]=[e("svg",{class:"h-5 w-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),C(" Envoi... ",-1)])])):(a(),n("span",Q,"Envoyer le message"))],8,J)])],32)])])])]),e("div",W,[t.value.contact_map&&t.value.contact_map.iframe?(a(),n("div",{key:0,innerHTML:t.value.contact_map.iframe,class:"h-full w-full"},null,8,Y)):(a(),n("div",Z,[...s[9]||(s[9]=[e("span",{class:"animate-pulse"},"Chargement de la carte...",-1)])]))])],64))}},te=w(ee,[["__scopeId","data-v-c5ad6ef0"]]),oe={class:"hero-content"},se={class:"hero-title"},ae={__name:"InnerHero",setup(v){const t=_({}),i=async()=>{try{const o=await(await fetch("/api/layout")).json();t.value=o}catch(l){console.error("Error loading home data:",l)}};return y(()=>{i()}),(l,o)=>t.value.contact_hero?(a(),n("div",{key:0,class:"hero-section",style:E({"background-image":`url(${t.value.contact_hero.bg_image})`})},[o[0]||(o[0]=e("div",{class:"hero-overlay"},null,-1)),e("div",oe,[e("h2",se,u(t.value.contact_hero.title),1)])],4)):r("",!0)}},ne=w(ae,[["__scopeId","data-v-515560a8"]]),le=["content"],re=["content"],ie=["content"],ce=["content"],de=["content"],ue=["content"],_e=["content"],pe=["content"],me=["content"],ge="PIX3i est une entreprise spécialisée dans les prestations de prises de vue par Drone et le Timelapse, offrant une gamme de services adaptés aux besoins du secteur du bâtiment et de l'immobilier.",we={__name:"Contact",setup(v){const t=_({content:"",meta_title:"",meta_description:"",keywords:"",og_title:"",og_description:"",og_image:"",og_type:"website",twitter_card:"summary_large_image",twitter_title:"",twitter_description:"",twitter_image:""}),i=async()=>{try{const o=await(await fetch("/api/layout")).json();o.contact_seo&&(t.value={content:o.contact_seo.content||"",meta_title:o.contact_seo.meta_title||"",meta_description:o.contact_seo.meta_description||o.contact_seo.content||ge,keywords:o.contact_seo.keywords||"",og_title:o.contact_seo.og_title||"",og_description:o.contact_seo.og_description||"",og_image:o.contact_seo.og_image||"",og_type:o.contact_seo.og_type||"website",twitter_card:o.contact_seo.twitter_card||"summary_large_image",twitter_title:o.contact_seo.twitter_title||"",twitter_description:o.contact_seo.twitter_description||"",twitter_image:o.contact_seo.twitter_image||""})}catch(l){console.error("Error loading layout:",l)}};return y(()=>{i()}),(l,o)=>(a(),D(T,null,{default:h(()=>[g(I(M),{title:t.value.meta_title||"Contact","meta-description":t.value.meta_description},{default:h(()=>[t.value.keywords?(a(),n("meta",{key:0,name:"keywords",content:t.value.keywords},null,8,le)):r("",!0),t.value.og_title?(a(),n("meta",{key:1,property:"og:title",content:t.value.og_title},null,8,re)):r("",!0),t.value.og_description?(a(),n("meta",{key:2,property:"og:description",content:t.value.og_description},null,8,ie)):r("",!0),t.value.og_image?(a(),n("meta",{key:3,property:"og:image",content:t.value.og_image},null,8,ce)):r("",!0),t.value.og_type?(a(),n("meta",{key:4,property:"og:type",content:t.value.og_type},null,8,de)):r("",!0),t.value.twitter_card?(a(),n("meta",{key:5,name:"twitter:card",content:t.value.twitter_card},null,8,ue)):r("",!0),t.value.twitter_title?(a(),n("meta",{key:6,name:"twitter:title",content:t.value.twitter_title},null,8,_e)):r("",!0),t.value.twitter_description?(a(),n("meta",{key:7,name:"twitter:description",content:t.value.twitter_description},null,8,pe)):r("",!0),t.value.twitter_image?(a(),n("meta",{key:8,name:"twitter:image",content:t.value.twitter_image},null,8,me)):r("",!0)]),_:1},8,["title","meta-description"]),g(ne),g(te)]),_:1}))}};export{we as default};

import{r as g,m as _,c as k,w as C,b as e,i as S,e as d,g as p,p as f,x as m,o as n,t as v,n as x,j as M}from"./app-DXrNZhOF.js";import{_ as V}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-vJa02ImH.js";const B={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},j={class:"mx-auto max-w-6xl"},D={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},E={class:"grid grid-cols-1 gap-6 md:grid-cols-2"},z={class:"md:col-span-2"},L={class:"relative"},U={class:"md:col-span-2"},N={class:"relative"},A={class:"md:col-span-2"},G={class:"relative"},P={class:"md:col-span-2"},F={class:"flex flex-col gap-6 sm:flex-row"},R={class:"flex-shrink-0"},T={class:"flex h-32 w-32 items-center justify-center overflow-hidden rounded-lg border-2 border-dashed border-gray-300 bg-gray-50"},H=["src"],I={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},O={class:"flex-grow"},J={class:"flex items-start space-x-4"},$={class:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2 focus-within:outline-none hover:text-blue-500"},q={key:0,class:"mt-2 text-sm text-gray-600"},K={class:"md:col-span-2"},Q={class:"mt-8 flex flex-col gap-3 sm:flex-row sm:justify-end"},W=["disabled"],X={key:0,class:"mr-2 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oe={__name:"General",setup(Y){const o=g({phone:"",email:"",address:"",description:"",logo_url:""}),a=g(""),i=g(!1),u=g(null),r=g(null),b=async()=>{const t=await(await fetch("/api/layout")).json();t.general&&(o.value=t.general,t.general.logo_url&&(u.value=t.general.logo_url))},w=s=>{const t=s.target.files[0];if(t){r.value=t;const l=new FileReader;l.onload=c=>{u.value=c.target.result},l.readAsDataURL(t)}},h=async()=>{i.value=!0,a.value="";try{let s=o.value.logo_url;if(r.value){const c=new FormData;c.append("logo",r.value);const y=await fetch("/api/settings/upload-logo",{method:"POST",body:c});if(y.ok)s=(await y.json()).logo_url;else throw new Error("Failed to upload logo")}const t={...o.value,logo_url:s};(await fetch("/api/settings/general",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)})).ok?(a.value="✅ Saved Successfully!",o.value.logo_url=s):a.value="❌ Error Saving."}catch(s){console.error(s),a.value="❌ Network Error"}finally{i.value=!1}};return _(()=>{b()}),(s,t)=>(n(),k(V,null,{default:C(()=>[e("div",B,[e("div",j,[t[19]||(t[19]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," General Settings "),e("p",{class:"mt-2 text-gray-600"}," Manage your website's general information ")],-1)),e("div",D,[t[18]||(t[18]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"}," Edit General Information "),e("p",{class:"mt-1 opacity-90"}," Update your site's contact details and description ")],-1)),e("form",{onSubmit:S(h,["prevent"]),class:"p-6 md:p-8"},[e("div",E,[e("div",z,[t[6]||(t[6]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Phone Number ",-1)),e("div",L,[t[5]||(t[5]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})])],-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.value.phone=l),type:"tel",placeholder:"Enter phone number",class:"w-full rounded-lg border border-gray-300 bg-gray-50 py-3 pr-4 pl-10 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[m,o.value.phone]])])]),e("div",U,[t[8]||(t[8]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Email Address ",-1)),e("div",N,[t[7]||(t[7]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})])],-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.value.email=l),type:"email",placeholder:"Enter email address",class:"w-full rounded-lg border border-gray-300 bg-gray-50 py-3 pr-4 pl-10 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[m,o.value.email]])])]),e("div",A,[t[10]||(t[10]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Address ",-1)),e("div",G,[t[9]||(t[9]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})])],-1)),f(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.address=l),type:"text",placeholder:"Enter full address",class:"w-full rounded-lg border border-gray-300 bg-gray-50 py-3 pr-4 pl-10 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[m,o.value.address]])])]),e("div",P,[t[14]||(t[14]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Logo ",-1)),e("div",F,[e("div",R,[e("div",T,[u.value?(n(),d("img",{key:0,src:u.value,alt:"Logo preview",class:"h-full w-full object-contain"},null,8,H)):(n(),d("svg",I,[...t[11]||(t[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))])]),e("div",O,[e("div",J,[e("label",$,[t[12]||(t[12]=e("span",{class:"rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-4 py-2 text-white shadow hover:from-blue-700 hover:to-indigo-800"},"Select Image",-1)),e("input",{onChange:w,type:"file",accept:"image/*",class:"sr-only"},null,32)]),r.value||o.value.logo_url&&!r.value?(n(),d("button",{key:0,onClick:t[3]||(t[3]=()=>{r.value=null,u.value=o.value.logo_url||null}),type:"button",class:"rounded-lg border border-gray-300 px-4 py-2 text-gray-700 hover:bg-gray-50"}," Remove ")):p("",!0)]),t[13]||(t[13]=e("p",{class:"mt-2 text-sm text-gray-500"}," PNG, JPG, GIF up to 2MB ",-1)),r.value?(n(),d("div",q," Selected: "+v(r.value.name),1)):p("",!0)])])]),e("div",K,[t[15]||(t[15]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"}," Description ",-1)),f(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.description=l),rows:"5",placeholder:"Enter site description",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,512),[[m,o.value.description]]),t[16]||(t[16]=e("p",{class:"mt-1 text-sm text-gray-500"}," Briefly describe your company or website ",-1))])]),e("div",Q,[e("button",{type:"button",onClick:b,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200 focus:outline-none"}," Reset "),e("button",{type:"submit",disabled:i.value,class:x(["flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition duration-200 hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",{"cursor-not-allowed opacity-75":i.value}])},[i.value?(n(),d("svg",X,[...t[17]||(t[17]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):p("",!0),M(" "+v(i.value?"Saving...":"Save Changes"),1)],10,W)]),a.value?(n(),d("div",{key:0,class:x(["mt-6 rounded-lg p-4 text-center font-semibold",a.value.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},v(a.value),3)):p("",!0)],32)])])])]),_:1}))}};export{oe as default};

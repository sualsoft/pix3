import{r,o as S,j as A,k as M,l as F,d as e,c as d,e as m,u as V,m as N,b as i,F as $,q as T,n as v,t as c,f as p,v as x,g as h}from"./app-BPnb9YoN.js";import{_ as B}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-DBXsMluo.js";const D={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},E={class:"mx-auto max-w-7xl"},I={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},L={class:"flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},P={class:"p-6 md:p-8"},O={key:0,class:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"},U={class:"mb-4 inline-flex h-12 w-12 items-center justify-center rounded-full bg-blue-100 text-blue-600"},q={class:"mb-2 text-lg font-bold text-gray-800"},z={class:"line-clamp-3 text-sm text-gray-600"},G={class:"mt-4 flex justify-center gap-2"},J=["onClick"],W=["onClick"],X={key:1,class:"py-12 text-center text-gray-500"},H={class:"mt-8 flex items-center justify-end gap-4 border-t pt-6"},K=["disabled"],Q={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm"},R={class:"w-full max-w-lg overflow-hidden rounded-2xl bg-white shadow-2xl"},Y={class:"flex items-center justify-between border-b bg-gray-100 px-6 py-4 text-gray-600"},Z={class:"text-lg font-bold"},ee={class:"space-y-4 p-6"},te={class:"flex gap-2"},se={class:"flex h-10 w-10 items-center justify-center rounded border bg-gray-100 text-gray-600"},le={class:"flex justify-end gap-3 border-t bg-gray-50 px-6 py-4"},ie={__name:"WhyPix3",setup(oe){const a=r([]),f=r(!1),n=r(""),u=r(!1),g=r(-1),o=r({title:"",description:"",icon:"fa-solid fa-star"}),_=async()=>{try{const t=await(await fetch("/api/layout")).json();t.home_why&&(a.value=t.home_why)}catch(s){console.error("Error loading data:",s)}},y=(s=-1)=>{g.value=s,n.value="",s===-1?o.value={title:"",description:"",icon:"fa-solid fa-check"}:o.value={...a.value[s]},u.value=!0},w=()=>{g.value===-1?a.value.push({...o.value}):a.value[g.value]={...o.value},u.value=!1},k=s=>{confirm("Delete this feature?")&&a.value.splice(s,1)},C=async()=>{f.value=!0,n.value="";try{(await fetch("/api/settings/why",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a.value)})).ok?n.value="✅ Saved Successfully!":n.value="❌ Error Saving."}catch(s){console.error(s),n.value="❌ Network Error"}finally{f.value=!1}};return S(()=>{_()}),(s,t)=>(i(),A(B,null,{default:M(()=>[F(V(N),{title:"Features Manager"}),e("div",D,[e("div",E,[t[7]||(t[7]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800"}," Pourquoi PIX3i Manager "),e("p",{class:"mt-2 text-gray-600"}," Gérer les fiches de fonctionnalités (icônes et texte). ")],-1)),e("div",I,[e("div",L,[t[6]||(t[6]=e("h2",{class:"text-2xl font-bold"},"Features List",-1)),e("button",{onClick:t[0]||(t[0]=l=>y(-1)),class:"rounded-lg bg-white px-4 py-2 font-bold text-blue-600 shadow transition hover:bg-gray-100"}," + Ajouter une fonctionnalité ")]),e("div",P,[a.value.length>0?(i(),d("div",O,[(i(!0),d($,null,T(a.value,(l,b)=>(i(),d("div",{key:b,class:"group relative rounded-xl border bg-gray-50 p-6 text-center shadow-sm transition hover:shadow-md"},[e("div",U,[e("i",{class:v([l.icon,"text-xl"])},null,2)]),e("h3",q,c(l.title),1),e("p",z,c(l.description),1),e("div",G,[e("button",{onClick:j=>y(b),class:"rounded bg-blue-100 px-3 py-1 text-sm text-blue-700 hover:bg-blue-200"}," Modifier ",8,J),e("button",{onClick:j=>k(b),class:"rounded bg-red-100 px-3 py-1 text-sm text-red-700 hover:bg-red-200"}," Supprimer ",8,W)])]))),128))])):(i(),d("div",X," Aucune fonctionnalité trouvée. ")),e("div",H,[n.value?(i(),d("span",{key:0,class:v(["font-bold",n.value.includes("✅")?"text-green-600":"text-red-600"])},c(n.value),3)):m("",!0),e("button",{onClick:C,disabled:f.value,class:"rounded-lg bg-blue-600 px-8 py-3 font-bold text-white shadow hover:bg-blue-700 disabled:opacity-50"},c(f.value?"Saving...":"Save All Changes"),9,K)])])])])]),u.value?(i(),d("div",Q,[e("div",R,[e("div",Y,[e("h3",Z,c(g.value===-1?"Ajouter une fonctionnalité":"Modifier une fonctionnalité"),1),e("button",{onClick:t[1]||(t[1]=l=>u.value=!1),class:"text-2xl text-gray-500"}," × ")]),e("div",ee,[e("div",null,[t[8]||(t[8]=e("label",{class:"mb-1 block text-sm font-bold text-gray-700"},"Titre",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.value.title=l),type:"text",class:"w-full rounded-lg border px-3 py-2 text-gray-600 focus:ring-2 focus:ring-blue-500"},null,512),[[x,o.value.title]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"mb-1 block text-sm font-bold text-gray-700"},[h(" Classe d'icône ("),e("a",{href:"https://fontawesome.com/search?o=r&m=free",target:"_blank",class:"text-blue-500 underline"},"FontAwesome"),h(") ")],-1)),e("div",te,[p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.value.icon=l),type:"text",class:"w-full rounded-lg border px-3 py-2 text-gray-600 focus:ring-2 focus:ring-blue-500",placeholder:"fa-solid fa-star"},null,512),[[x,o.value.icon]]),e("div",se,[e("i",{class:v(o.value.icon)},null,2)])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"mb-1 block text-sm font-bold text-gray-700"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>o.value.description=l),rows:"3",class:"w-full rounded-lg border px-3 py-2 text-gray-600 focus:ring-2 focus:ring-blue-500"},null,512),[[x,o.value.description]])])]),e("div",le,[e("button",{onClick:t[5]||(t[5]=l=>u.value=!1),class:"rounded-lg px-4 py-2 text-gray-600 hover:bg-gray-200"}," Annuler "),e("button",{onClick:w,class:"rounded-lg bg-blue-600 px-6 py-2 font-bold text-white hover:bg-blue-700"}," Fait ")])])])):m("",!0)]),_:1}))}};export{ie as default};

import{C as g,x as p,r as f,j as _,k as m,d as e,l as w,t as l,c as r,b as a,F as y,q as k,e as n,g as j,T as C,w as P}from"./app-DeuKnPJx.js";import{_ as F}from"./MainLayout-C34_n6nW.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"min-h-screen bg-gray-50 pt-12 font-sans"},T={class:"py-10"},V={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},A={class:"mb-10"},$={class:"text-3xl font-bold text-gray-900"},O={class:"mt-2 text-sm text-gray-500"},z={class:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"},D={class:"overflow-hidden rounded-sm border-t-4 border-[#50aceb] bg-white p-6 shadow-sm"},U={class:"flex items-center"},q={class:"ml-5 w-0 flex-1"},E={class:"text-2xl font-bold text-gray-900"},I={class:"overflow-hidden rounded-sm border-t-4 border-[#50aceb] bg-white p-6 shadow-sm"},L={class:"flex items-center"},M={class:"ml-5 w-0 flex-1"},S={class:"text-2xl font-bold text-gray-900"},G={key:0,class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},H=["onClick"],J=["src"],K={key:0,class:"absolute inset-0 flex items-center justify-center bg-black/20 transition-colors group-hover:bg-black/30"},Q={class:"absolute top-2 left-2 rounded-sm bg-black/70 px-2 py-1 text-[10px] font-bold tracking-wider text-white uppercase"},R={class:"flex flex-1 flex-col p-4"},W={class:"mb-2"},X=["title"],Y={class:"mt-1 text-xs text-gray-500"},Z={class:"mt-auto flex space-x-2 pt-3"},ee=["href"],te=["onClick"],se={key:1,class:"rounded-lg border border-gray-200 bg-white py-12 text-center"},oe={class:"relative flex max-h-[90vh] w-full max-w-6xl flex-col items-center justify-center bg-transparent"},le={key:0,class:"aspect-video w-full overflow-hidden rounded-lg border border-gray-800 bg-black shadow-2xl"},ae=["src"],re={key:1,class:"overflow-hidden rounded-lg border border-gray-800 shadow-2xl"},ie=["src"],de={class:"mt-4 text-center text-white"},ne={class:"text-xl font-bold"},ce={__name:"User",props:{project:{type:Object,default:()=>({title:"Projet"})},files:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({total_files:0,new_timelapses:0})}},setup(i){const b=g(),v=p(()=>b.props.auth?.user),d=f(!1),o=f(null),c=x=>{o.value=x,d.value=!0,document.body.style.overflow="hidden"},u=()=>{d.value=!1,o.value=null,document.body.style.overflow="auto"};return(x,t)=>(a(),_(F,null,{default:m(()=>[e("div",N,[e("main",T,[e("div",V,[e("div",A,[e("h2",$," Bonjour, "+l(v.value?.name||"Client")+" ! ",1),e("p",O,' Aperçu de votre projet "'+l(i.project?.title||"Projet")+'". ',1),e("div",z,[e("div",D,[e("div",U,[t[1]||(t[1]=e("div",{class:"flex-shrink-0 rounded-full bg-sky-50 p-3"},[e("i",{class:"fa-solid fa-cloud-arrow-down text-xl text-[#50aceb]"})],-1)),e("div",q,[e("dl",null,[t[0]||(t[0]=e("dt",{class:"truncate text-sm font-medium text-gray-500"}," Fichiers Disponibles ",-1)),e("dd",E,l(i.stats?.total_files||0),1)])])])]),e("div",I,[e("div",L,[t[3]||(t[3]=e("div",{class:"flex-shrink-0 rounded-full bg-sky-50 p-3"},[e("i",{class:"fa-solid fa-video text-xl text-[#50aceb]"})],-1)),e("div",M,[e("dl",null,[t[2]||(t[2]=e("dt",{class:"truncate text-sm font-medium text-gray-500"}," Nouveaux Timelapses ",-1)),e("dd",S,l(i.stats?.new_timelapses||0),1)])])])])])]),e("div",null,[t[8]||(t[8]=e("div",{class:"mb-6 flex items-center justify-between"},[e("h3",{class:"text-xl font-bold text-gray-900"}," Vos Fichiers ")],-1)),i.files&&i.files.length>0?(a(),r("div",G,[(a(!0),r(y,null,k(i.files,s=>(a(),r("div",{key:s.id,class:"group flex flex-col overflow-hidden rounded-sm border border-transparent bg-white shadow-sm transition-all duration-300 hover:border-sky-100 hover:shadow-xl"},[e("div",{onClick:h=>c(s),class:"relative h-48 cursor-pointer overflow-hidden bg-gray-200"},[e("img",{src:s.thumbnail,class:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"},null,8,J),s.type==="video"?(a(),r("div",K,[...t[4]||(t[4]=[e("div",{class:"flex h-12 w-12 transform items-center justify-center rounded-full bg-white/90 shadow-lg transition-transform group-hover:scale-110"},[e("i",{class:"fa-solid fa-play ml-1 text-lg text-[#50aceb]"})],-1)])])):n("",!0),e("span",Q,l(s.badge),1)],8,H),e("div",R,[e("div",W,[e("h4",{class:"truncate text-sm font-bold text-gray-900",title:s.name},l(s.name),9,X),e("p",Y,l(s.date)+" • "+l(s.size),1)]),e("div",Z,[e("a",{href:s.download_url,target:"_blank",class:"flex flex-1 cursor-pointer items-center justify-center rounded-sm bg-[#50aceb] py-4 text-xs font-bold tracking-wide text-white uppercase transition-colors hover:bg-[#429ad6]"},[...t[5]||(t[5]=[e("i",{class:"fa-solid fa-download mr-2"},null,-1),j(" Télécharger ",-1)])],8,ee),e("button",{onClick:h=>c(s),class:"cursor-pointer rounded-sm bg-gray-100 px-3 text-gray-600 transition-colors hover:bg-gray-200",title:"Aperçu"},[...t[6]||(t[6]=[e("i",{class:"fa-solid fa-eye"},null,-1)])],8,te)])])]))),128))])):(a(),r("div",se,[...t[7]||(t[7]=[e("p",{class:"text-gray-500"},"Aucun fichier trouvé.",-1)])]))])])]),w(C,{name:"fade"},{default:m(()=>[d.value?(a(),r("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 backdrop-blur-sm",onClick:P(u,["self"])},[e("div",oe,[e("button",{onClick:u,class:"absolute -top-12 right-0 flex items-center text-white transition-colors hover:text-[#50aceb]"},[...t[9]||(t[9]=[e("span",{class:"mr-2 text-sm font-medium tracking-widest uppercase"},"Fermer",-1),e("i",{class:"fa-solid fa-xmark text-3xl"},null,-1)])]),o.value&&o.value.type==="video"&&o.value.youtube_id?(a(),r("div",le,[e("iframe",{class:"h-full w-full",src:`https://www.youtube.com/embed/${o.value.youtube_id}?autoplay=1`,title:"Preview",frameborder:"0",allowfullscreen:""},null,8,ae)])):o.value?(a(),r("div",re,[e("img",{src:o.value.download_url||o.value.thumbnail,class:"max-h-[85vh] w-auto object-contain",alt:"Preview"},null,8,ie)])):n("",!0),e("div",de,[e("h3",ne,l(o.value?.name),1)])])])):n("",!0)]),_:1})])]),_:1}))}},me=B(ce,[["__scopeId","data-v-c452abdd"]]);export{me as default};

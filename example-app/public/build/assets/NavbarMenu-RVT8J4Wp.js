import{r as f,o as k,j as C,k as M,d as e,w as j,c as d,e as b,b as u,F as z,q as L,f as m,v as p,n as l,g as v,t as x}from"./app-DeuKnPJx.js";import{_ as V}from"./DashboardLayout.vue_vue_type_script_setup_true_lang-BR4GEVq0.js";const S={class:"min-h-screen w-full bg-gradient-to-br from-blue-50 to-indigo-100 p-4 md:p-8"},B={class:"mx-auto max-w-6xl"},N={class:"overflow-hidden rounded-2xl bg-white shadow-xl"},A={class:"space-y-6"},E={class:"md:col-span-4"},H=["onUpdate:modelValue"],U={class:"md:col-span-4"},T=["onUpdate:modelValue"],D={class:"flex items-end md:col-span-3"},$={class:"flex items-center"},F=["onClick"],O={class:"flex items-end md:col-span-1"},P=["onClick"],R={class:"mt-8 flex flex-col gap-3 sm:flex-row sm:justify-end"},q=["disabled"],G={key:0,class:"mr-2 h-5 w-5 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Q={__name:"NavbarMenu",setup(J){const a=f([{name:"Home",link:"/",is_button:!1},{name:"About",link:"/about",is_button:!1},{name:"Services",link:"/services",is_button:!1},{name:"Contact",link:"/contact",is_button:!1},{name:"Login",link:"/login",is_button:!0}]),n=f(""),r=f(!1),g=async()=>{try{const t=await(await fetch("/api/layout")).json();t.navbar&&Array.isArray(t.navbar)&&(a.value=t.navbar)}catch(o){console.error("Error loading navbar links:",o),n.value="❌ Error loading data"}},y=()=>{a.value.push({name:"",link:"",is_button:!1})},h=o=>{a.value.splice(o,1)},w=o=>{a.value[o].is_button=!a.value[o].is_button},_=async()=>{r.value=!0,n.value="";try{const o=a.value.filter(s=>s.name.trim()!==""&&s.link.trim()!=="");(await fetch("/api/settings/navbar",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)})).ok?n.value="✅ Saved Successfully!":n.value="❌ Error Saving."}catch(o){console.error(o),n.value="❌ Network Error"}finally{r.value=!1}};return k(()=>{g()}),(o,t)=>(u(),C(V,null,{default:M(()=>[e("div",S,[e("div",B,[t[9]||(t[9]=e("div",{class:"mb-8 text-center"},[e("h1",{class:"text-3xl font-bold text-gray-800 md:text-4xl"}," Paramètres de la barre de navigation "),e("p",{class:"mt-2 text-gray-600"}," Gérez le menu de navigation de votre site web ")],-1)),e("div",N,[t[8]||(t[8]=e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white"},[e("h2",{class:"text-2xl font-bold"}," Modifier la barre de navigation "),e("p",{class:"mt-1 opacity-90"}," Mettre à jour vos liens de navigation de barre de navigation ")],-1)),e("form",{onSubmit:j(_,["prevent"]),class:"p-6 md:p-8"},[e("div",A,[(u(!0),d(z,null,L(a.value,(s,c)=>(u(),d("div",{key:c,class:"grid grid-cols-1 gap-4 md:grid-cols-12"},[e("div",E,[t[0]||(t[0]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"Nom du lien",-1)),m(e("input",{"onUpdate:modelValue":i=>s.name=i,type:"text",placeholder:"Link display name",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,H),[[p,s.name]])]),e("div",U,[t[1]||(t[1]=e("label",{class:"mb-2 block text-sm font-semibold text-gray-700"},"URL",-1)),m(e("input",{"onUpdate:modelValue":i=>s.link=i,type:"text",placeholder:"/page or https://example.com",class:"w-full rounded-lg border border-gray-300 bg-gray-50 px-4 py-3 text-gray-800 placeholder-gray-400 transition duration-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"},null,8,T),[[p,s.link]])]),e("div",D,[e("div",$,[e("button",{onClick:i=>w(c),type:"button",class:l(["relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",s.is_button?"bg-blue-600":"bg-gray-200"])},[e("span",{class:l(["pointer-events-none relative inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",s.is_button?"translate-x-5":"translate-x-0"])},[e("span",{class:l(["absolute inset-0 flex h-full w-full items-center justify-center transition-opacity",s.is_button?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in"])},[...t[2]||(t[2]=[e("svg",{class:"h-3 w-3 text-gray-400",fill:"none",viewBox:"0 0 12 12"},[e("path",{d:"M4 8l2-2m0 0l2-2M6 6L4 4m2 2l2 2",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],2),e("span",{class:l(["absolute inset-0 flex h-full w-full items-center justify-center transition-opacity",s.is_button?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out"])},[...t[3]||(t[3]=[e("svg",{class:"h-3 w-3 text-blue-600",fill:"currentColor",viewBox:"0 0 12 12"},[e("path",{d:"M3.707 5.293a1 1 0 00-1.414 1.414l1.414-1.414zM5 8l-.707.707a1 1 0 001.414 0L5 8zm4.707-5.293a1 1 0 00-1.414-1.414l1.414 1.414zm-7.414 2l2 2 1.414-1.414-2-2-1.414 1.414zm3.414 2l4-4-1.414-1.414-4 4 1.414 1.414z"})],-1)])],2)],2)],10,F),t[4]||(t[4]=e("span",{class:"ml-3 text-sm font-medium text-gray-700"},"Style de bouton",-1))])]),e("div",O,[e("button",{onClick:i=>h(c),type:"button",class:"mb-1 flex h-12 w-12 items-center justify-center rounded-lg bg-red-100 text-red-600 transition duration-200 hover:bg-red-200 focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:outline-none"},[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])],8,P)])]))),128)),e("div",{class:"flex justify-between pt-4"},[e("button",{onClick:y,type:"button",class:"flex items-center rounded-lg border border-blue-600 px-4 py-2 font-medium text-blue-600 transition duration-200 hover:bg-blue-50 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none"},[...t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z","clip-rule":"evenodd"})],-1),v(" Ajouter un lien ",-1)])])])]),e("div",R,[e("button",{type:"button",onClick:g,class:"rounded-lg border border-gray-300 px-6 py-3 font-medium text-gray-700 transition duration-200 hover:bg-gray-50 focus:ring-2 focus:ring-gray-200 focus:outline-none"}," Réinitialiser "),e("button",{type:"submit",disabled:r.value,class:l(["flex items-center justify-center rounded-lg bg-gradient-to-r from-blue-600 to-indigo-700 px-6 py-3 font-medium text-white shadow-lg transition duration-200 hover:from-blue-700 hover:to-indigo-800 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none",{"cursor-not-allowed opacity-75":r.value}])},[r.value?(u(),d("svg",G,[...t[7]||(t[7]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):b("",!0),v(" "+x(r.value?"Enregistrement...":"Enregistrer les changements"),1)],10,q)]),n.value?(u(),d("div",{key:0,class:l(["mt-6 rounded-lg p-4 text-center font-semibold",n.value.includes("✅")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},x(n.value),3)):b("",!0)],32)])])])]),_:1}))}};export{Q as default};
